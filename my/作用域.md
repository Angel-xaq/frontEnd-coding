


## scope
1.函数创建时，生成的一个JS内部的隐式属性  
2.函数存储作用域链的容器  
作用域链是存储AO/GO的容器  
AO：函数的执行期上下文
GO：全局的执行期上下文  

```javascript
function a(){
    function b(){
        var b=2;
    }
    var a=1;
    b();
}
var c=3;
a();
```

每一个函数的作用域链都包含GO
**当a函数被定义时**，系统生成[[scope]]属性,[[scope]]保存该函数的作用域链，该作用域链的第0位存储当前环境下的全局执行期上下文GO，GO里存储全局下的所有对象，其中包含函数a和全局变量c。    

**当a函数被执行时(前一刻)**，作用域链的顶端(第0位)存储a函数生成的函数执行期上下文AO，同时第1位存储GO。查找变量是到a函数存储的作用域链中从顶端开始依次向下查找。  

**当b函教被定义时**，是在a函数环境下，所以b函数这时的作用域链就是a函数被执行期的作用域链。  

**当b函数被执行时(前一刻)**，生成函数b的[[scope]]，存储函数b的作用域链，顶端第0位存储b函数的AO，a函数的AO和全局的GO依次向下排列。  

**当b函数被执行结束后**，b函数的AO被销毁，回归被定义时的状态。  

**当a函数被执行结束时**，a函数的AO被销毁的同时，**b函数的[[scope]]J也将不存在**。a函数回归到被定义时的状态。


## 闭包
当内部函数被返回到外部并保存时，一定会产生闭包，闭包会产生原来的作用域链不释放，过度的闭包可能会导致内存泄漏，或加载过慢。  







